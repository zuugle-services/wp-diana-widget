(()=>{"use strict";var e,a={608:()=>{const e=window.wp.blocks,a=window.wp.i18n,t=window.wp.blockEditor,i=window.wp.components,n=window.wp.element,l=window.ReactJSXRuntime,o=JSON.parse('{"UU":"wp-diana-widget/wp-diana-widget"}');(0,e.registerBlockType)(o.UU,{edit:function({attributes:e,setAttributes:o}){const d=(0,t.useBlockProps)(),{widgetId:r,activityName:s,activityType:p,activityStartLocation:w,activityStartLocationType:c,activityEndLocation:g,activityEndLocationType:h,activityEarliestStartTime:_,activityLatestStartTime:v,activityEarliestEndTime:y,activityLatestEndTime:u,activityDurationMinutes:x,activityStartLocationDisplayName:C,activityEndLocationDisplayName:b,timezone:T,activityStartTimeLabel:m,activityEndTimeLabel:S,apiBaseUrl:L,language:D,overrideUserStartLocation:j,overrideUserStartLocationType:f,displayStartDate:E,displayEndDate:M,destinationInputName:O,containerMaxHeight:Y,multiday:A,overrideActivityStartDate:k,overrideActivityEndDate:H,activityDurationDaysFixed:U,cacheUserStartLocation:N,userStartLocationCacheTTLMinutes:P,share:B,allowShareView:I,shareURLPrefix:z}=e;(0,n.useEffect)((()=>{if(!r){const e="diana-block-"+Math.random().toString(36).substring(2,11);o({widgetId:e})}}),[r,o]);const R=[{label:(0,a.__)("Coordinates (lat,lon)","wp-diana-widget"),value:"coordinates"},{label:(0,a.__)("Address","wp-diana-widget"),value:"address"},{label:(0,a.__)("Station ID","wp-diana-widget"),value:"station"}],F=[{label:(0,a.__)("English","wp-diana-widget"),value:"EN"},{label:(0,a.__)("German","wp-diana-widget"),value:"DE"}];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.InspectorControls,{children:[(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Activity Details","wp-diana-widget"),initialOpen:!0,children:[(0,l.jsx)(i.TextControl,{label:(0,a.__)("Activity Name","wp-diana-widget"),value:s,onChange:e=>o({activityName:e}),help:(0,a.__)("e.g., Hiking Trip, Museum Visit","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Activity Type","wp-diana-widget"),value:p,onChange:e=>o({activityType:e}),help:(0,a.__)("Internal type identifier, e.g., Hiking, Sightseeing","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Activity Duration (minutes)","wp-diana-widget"),type:"number",value:x,onChange:e=>o({activityDurationMinutes:e}),help:(0,a.__)("e.g., 120 for 2 hours","wp-diana-widget")})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Start Location","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.TextareaControl,{label:(0,a.__)("Start Location (Coordinates or Address)","wp-diana-widget"),value:w,onChange:e=>o({activityStartLocation:e}),help:(0,a.__)('Enter coordinates as "lat,lon" or a full address.',"wp-diana-widget")}),(0,l.jsx)(i.SelectControl,{label:(0,a.__)("Start Location Type","wp-diana-widget"),value:c,options:R,onChange:e=>o({activityStartLocationType:e})}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Start Location Display Name (Optional)","wp-diana-widget"),value:C,onChange:e=>o({activityStartLocationDisplayName:e}),help:(0,a.__)("Custom name to display for the start location.","wp-diana-widget")})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("End Location","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.TextareaControl,{label:(0,a.__)("End Location (Coordinates or Address)","wp-diana-widget"),value:g,onChange:e=>o({activityEndLocation:e}),help:(0,a.__)('Enter coordinates as "lat,lon" or a full address.',"wp-diana-widget")}),(0,l.jsx)(i.SelectControl,{label:(0,a.__)("End Location Type","wp-diana-widget"),value:h,options:R,onChange:e=>o({activityEndLocationType:e})}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("End Location Display Name (Optional)","wp-diana-widget"),value:b,onChange:e=>o({activityEndLocationDisplayName:e}),help:(0,a.__)("Custom name to display for the end location.","wp-diana-widget")})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Activity Time Constraints","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.TextControl,{label:(0,a.__)("Earliest Start Time (HH:MM or HH:MM:SS)","wp-diana-widget"),value:_,onChange:e=>o({activityEarliestStartTime:e}),placeholder:"09:00:00"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Latest Start Time (HH:MM or HH:MM:SS)","wp-diana-widget"),value:v,onChange:e=>o({activityLatestStartTime:e}),placeholder:"17:00:00"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Earliest End Time (HH:MM or HH:MM:SS)","wp-diana-widget"),value:y,onChange:e=>o({activityEarliestEndTime:e}),placeholder:"10:00:00"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Latest End Time (HH:MM or HH:MM:SS)","wp-diana-widget"),value:u,onChange:e=>o({activityLatestEndTime:e}),placeholder:"18:00:00"})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Localization & Display","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.TextControl,{label:(0,a.__)("Timezone","wp-diana-widget"),value:T,onChange:e=>o({timezone:e}),help:(0,l.jsxs)(l.Fragment,{children:[(0,a.__)("IANA timezone name, e.g., Europe/Vienna. ","wp-diana-widget"),(0,l.jsx)(i.ExternalLink,{href:"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones",children:(0,a.__)("List of timezones","wp-diana-widget")})]}),placeholder:"Europe/Vienna"}),(0,l.jsx)(i.SelectControl,{label:(0,a.__)("Language","wp-diana-widget"),value:D,options:F,onChange:e=>o({language:e})}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Activity Start Time Label (Optional)","wp-diana-widget"),value:m,onChange:e=>o({activityStartTimeLabel:e}),help:(0,a.__)('Custom label for "Activity Start".',"wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Activity End Time Label (Optional)","wp-diana-widget"),value:S,onChange:e=>o({activityEndTimeLabel:e}),help:(0,a.__)('Custom label for "Activity End".',"wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Destination Input Name (Optional)","wp-diana-widget"),value:O,onChange:e=>o({destinationInputName:e}),help:(0,a.__)("Placeholder for the disabled input field for the destination.","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Display Start Date (Optional)","wp-diana-widget"),value:E,onChange:e=>o({displayStartDate:e}),help:(0,a.__)("Start date (YYYY-MM-DD) for widget visibility. If set, the widget will only display on or after this date.","wp-diana-widget"),placeholder:"YYYY-MM-DD"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Display End Date (Optional)","wp-diana-widget"),value:M,onChange:e=>o({displayEndDate:e}),help:(0,a.__)("End date (YYYY-MM-DD) for widget visibility. If set, the widget will only display on or before this date.","wp-diana-widget"),placeholder:"YYYY-MM-DD"})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Multiday","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.ToggleControl,{label:(0,a.__)("Enable Multiday Mode","wp-diana-widget"),checked:A,onChange:e=>o({multiday:e}),help:(0,a.__)("Allows selecting a date range for the activity.","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Override Activity Start Date (Optional)","wp-diana-widget"),value:k,onChange:e=>o({overrideActivityStartDate:e}),help:(0,a.__)("Override activity start date with this date (YYYY-MM-DD). Can also be used for single-day activities.","wp-diana-widget"),placeholder:"YYYY-MM-DD"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Override Activity End Date (Optional)","wp-diana-widget"),value:H,onChange:e=>o({overrideActivityEndDate:e}),help:(0,a.__)("Override activity end date with this date (YYYY-MM-DD).","wp-diana-widget"),placeholder:"YYYY-MM-DD",disabled:!A}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Fixed Activity Duration (Days)","wp-diana-widget"),type:"number",value:U,onChange:e=>o({activityDurationDaysFixed:parseInt(e,10)||0}),help:(0,a.__)("Set a fixed duration in days for the activity date range picker.","wp-diana-widget"),disabled:!A})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Caching & Sharing","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.ToggleControl,{label:(0,a.__)("Enable User Start Location Caching","wp-diana-widget"),checked:N,onChange:e=>o({cacheUserStartLocation:e}),help:(0,a.__)("Cache the user's last entered start location in their browser.","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Cache TTL (minutes)","wp-diana-widget"),type:"number",value:P,onChange:e=>o({userStartLocationCacheTTLMinutes:parseInt(e,10)||15}),help:(0,a.__)("How long to cache the location. Default: 15.","wp-diana-widget"),disabled:!N}),(0,l.jsx)(i.ToggleControl,{label:(0,a.__)("Enable Share Button","wp-diana-widget"),checked:B,onChange:e=>o({share:e}),help:(0,a.__)("Show a share button in the widget menu.","wp-diana-widget")}),(0,l.jsx)(i.ToggleControl,{label:(0,a.__)("Allow Share View","wp-diana-widget"),checked:I,onChange:e=>o({allowShareView:e}),help:(0,a.__)('Allow the widget to be displayed in a read-only "share view" via a URL parameter.',"wp-diana-widget"),disabled:!B}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Share URL Prefix (Optional)","wp-diana-widget"),value:z,onChange:e=>o({shareURLPrefix:e}),help:(0,a.__)("Base URL for share links. Defaults to the current page URL.","wp-diana-widget"),disabled:!B})]}),(0,l.jsxs)(i.PanelBody,{title:(0,a.__)("Advanced & Styling","wp-diana-widget"),initialOpen:!1,children:[(0,l.jsx)(i.TextControl,{label:(0,a.__)("API Base URL","wp-diana-widget"),value:L,onChange:e=>o({apiBaseUrl:e}),help:(0,a.__)("Default: https://api.zuugle-services.net","wp-diana-widget")}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Widget Container Max Height","wp-diana-widget"),value:Y,onChange:e=>o({containerMaxHeight:e}),help:(0,a.__)("e.g., 600px, 80vh, none. Default: 600px","wp-diana-widget"),placeholder:"600px"}),(0,l.jsx)(i.TextControl,{label:(0,a.__)("Override User Start Location","wp-diana-widget"),value:j,onChange:e=>o({overrideUserStartLocation:e}),help:(0,a.__)("Permanently set the user's starting point.","wp-diana-widget")}),(0,l.jsx)(i.SelectControl,{label:(0,a.__)("Override User Start Location Type","wp-diana-widget"),value:f,options:R,onChange:e=>o({overrideUserStartLocationType:e})})]})]}),(0,l.jsx)("div",{...d,children:(0,l.jsxs)("div",{className:"wp-diana-widget-editor-preview",children:[(0,l.jsx)("h4",{children:(0,a.__)("Diana Activity Widget","wp-diana-widget")}),(0,l.jsxs)("p",{children:[(0,a.__)("Activity:","wp-diana-widget")," ",s||(0,a.__)("Not set","wp-diana-widget")]}),(0,l.jsx)("p",{children:(0,a.__)("This block will display the Diana Activity Widget on the frontend. Configure API credentials under Settings > Diana Widget.","wp-diana-widget")}),(0,l.jsx)("p",{children:(0,l.jsx)("em",{children:(0,a.__)("Frontend preview may differ.","wp-diana-widget")})})]})})]})}})}},t={};function i(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return a[e](l,l.exports,i),l.exports}i.m=a,e=[],i.O=(a,t,n,l)=>{if(!t){var o=1/0;for(p=0;p<e.length;p++){for(var[t,n,l]=e[p],d=!0,r=0;r<t.length;r++)(!1&l||o>=l)&&Object.keys(i.O).every((e=>i.O[e](t[r])))?t.splice(r--,1):(d=!1,l<o&&(o=l));if(d){e.splice(p--,1);var s=n();void 0!==s&&(a=s)}}return a}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[t,n,l]},i.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={76:0,20:0};i.O.j=a=>0===e[a];var a=(a,t)=>{var n,l,[o,d,r]=t,s=0;if(o.some((a=>0!==e[a]))){for(n in d)i.o(d,n)&&(i.m[n]=d[n]);if(r)var p=r(i)}for(a&&a(t);s<o.length;s++)l=o[s],i.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return i.O(p)},t=globalThis.webpackChunkwp_diana_widget=globalThis.webpackChunkwp_diana_widget||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var n=i.O(void 0,[20],(()=>i(608)));n=i.O(n)})();